@page
@model IndexModel
@{
    ViewData["Title"] = "Vælg en kategori";
}

<div class="text-center mb-5">
    <h1 class="display-4">🧮 MeiMaths</h1>
    <p class="lead">Vælg en kategori herunder og begynd at øve dig!</p>
</div>

@if (Model.Categories.Count == 0)
{
    <div class="alert alert-warning text-center">
        <p class="mb-0">Der er ingen opgavesæt tilgængelige endnu. Tilføj JSON-filer i <code>Data/ExerciseSets/</code> mappen.</p>
    </div>
}
else
{
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        @foreach (var cat in Model.Categories)
        {
            var icon = cat.Name switch
            {
                "Tal og algebra" => "🔢",
                "Geometri" => "📐",
                "Statistik og sandsynlighed" => "📊",
                "Funktioner" => "📈",
                "Ligninger" => "🧮",
                "Blandet" => "🎲",
                "Eksamensopgaver" => "📝",
                _ => "📘"
            };
            <div class="col">
                <a asp-page="/Category" asp-route-name="@cat.Name" class="text-decoration-none">
                    <div class="card h-100 shadow-sm exercise-card text-center p-4">
                        <div class="card-body d-flex flex-column align-items-center">
                            <span class="display-3 mb-3">@icon</span>
                            <h4 class="card-title text-dark">@cat.Name</h4>
                            <p class="card-text text-muted">@cat.Count opgavesæt</p>
                        </div>
                    </div>
                </a>
            </div>
        }
    </div>
}
